# eBay Integration Environment Example (DO NOT COMMIT REAL SECRETS)
# Copy to .env (root) or backend/.env and fill in real values. Keep secrets out of version control.

# --- Core Feature Flags ---
EBAY_PUBLISH_ENABLED=true
EBAY_SNAPSHOTS_ENABLED=true
EBAY_RECON_ENABLED=false
EBAY_POLICY_ENABLED=false

# --- eBay API (Sandbox) ---
# For sandbox, base URL typically https://api.sandbox.ebay.com
EBAY_API_BASE_URL=https://api.sandbox.ebay.com
# Short-lived OAuth user token (access token). Rotate frequently.
EBAY_API_OAUTH_TOKEN=REPLACE_ACCESS_TOKEN
# Optional refresh (only if you have a long-lived refresh token grant):
EBAY_API_REFRESH_URL=https://api.sandbox.ebay.com/identity/v1/oauth2/token
EBAY_API_REFRESH_CLIENT=REPLACE_CLIENT_ID
EBAY_API_REFRESH_SECRET=REPLACE_CLIENT_SECRET
EBAY_API_REFRESH_TOKEN=REPLACE_REFRESH_TOKEN

# --- Adapter Behavior ---
EBAY_API_TIMEOUT_MS=8000
EBAY_RATE_LIMIT_RPS=5
# Backoff / attempts
EBAY_PUBLISH_MAX_ATTEMPTS=6

# --- Queue / Alert Thresholds (tune as needed) ---
EBAY_QUEUE_BACKLOG_READY_THRESHOLD=50
QUEUE_WAIT_SAMPLES_CAP=2000
QUEUE_MAX_WAIT_DECAY_WINDOW_MS=0

# --- Reconciliation ---
EBAY_RECON_SNAPSHOT_ON_DRIFT=false
EBAY_THROTTLE_BYPASS=false

# --- Policy Cache ---
EBAY_POLICY_TYPES=shipping,return,payment
EBAY_POLICY_TTL_SEC=3600
EBAY_POLICY_IMPACT_ENABLED=false

# --- Metrics / Suppression (optional) ---
ALERT_SUPPRESSION_WINDOW_SEC=60
ALERT_SUPPRESSION_PER_KEY_OVERRIDE=queue_latency_burn_rate:30

# --- Database (PostgreSQL) ---
PGHOST=localhost
PGPORT=5432
PGDATABASE=ebaytool
PGUSER=ebaytool
PGPASSWORD=CHANGEME

# --- Node / Misc ---
NODE_ENV=development
PORT=5000

# SECURITY NOTE: Never commit a real .env file. Use secret managers in CI/Prod.
